{
  "permissions": {
    "allow": [
      "Bash(if exist nul del /f nul)",
      "Bash(powershell:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: 옵션명 기반 주문 정보 자동 매핑 시스템 구축 및 MCP 설정\n\n- 모든 주문 등록 경로에 옵션 상품 정보 자동 매핑 기능 추가\n- option_products 테이블 기반 자동 조회 및 병합\n- 관리자/플랫폼 주문, CS 재발송 등 5개 경로 모두 적용\n- 대량 주문 처리 성능 최적화 (중복 제거, 병렬 처리, 캐싱)\n\n주요 변경사항:\n- 핵심 유틸리티 함수 생성 (src/lib/order-utils.ts)\n- 플랫폼 셀러 주문 전용 API 생성 (src/app/api/platform-orders)\n- 기존 API에 자동 매핑 기능 통합\n- MCP 서버 설정 추가 (PostgreSQL, Fetch)\n- 택배사 템플릿 마이그레이션 추가\n\n자동 매핑 필드:\n- seller_supply_price, 출고, 송장, 벤더사\n- 발송지명, 발송지주소, 발송지연락처, 출고비용\n\n🤖 Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(node test-option-mapping.js)",
      "Bash(npm run dev)",
      "Bash(node:*)",
      "Bash(npm install pg)",
      "Bash(git restore:*)",
      "Bash(taskkill:*)",
      "Bash(psql:*)",
      "Bash(npm install:*)",
      "Bash(git diff:*)",
      "Bash(npx supabase db:*)",
      "Bash(npx tsc:*)",
      "Bash(if exist \"c:\\Users\\USER\\Desktop\\projects\\dalreamarket.com\\fix-empty-templates.js\" del /f \"c:\\Users\\USER\\Desktop\\projects\\dalreamarket.com\\fix-empty-templates.js\")",
      "Bash(del /f fix-empty-templates.js)",
      "Bash(del \"c:\\Users\\USER\\Desktop\\projects\\dalreamarket.com\\src\\app\\admin\\media\\layout.tsx\")",
      "Bash(if exist \"c:\\Users\\USER\\Desktop\\projects\\dalreamarket.com\\src\\app\\admin\\media\\layout.tsx\" del /f \"c:\\Users\\USER\\Desktop\\projects\\dalreamarket.com\\src\\app\\admin\\media\\layout.tsx\")",
      "Bash(del apply-image-types-migration.js)",
      "Bash(if exist apply-image-types-migration.js del /f apply-image-types-migration.js)",
      "Bash(curl http://localhost:3001/api/cloudinary/folders)",
      "Bash(curl -X POST \"https://qxhpgjftkkcxdttgjkzj.supabase.co/rest/v1/rpc/exec_sql\" -H \"apikey: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4aHBnamZ0a2tjeGR0dGdqa3pqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3MDQxNDAsImV4cCI6MjA1ODI4MDE0MH0.wXUEJ4KY3Gg-fHb6lCvwKrGOvWrGJlC2hvStD0uDBrs\" -H \"Content-Type: application/json\" -d '{\"\"sql\"\":\"\"ALTER TABLE cloudinary_images ADD COLUMN IF NOT EXISTS file_hash TEXT;\"\"}')",
      "Bash(tasklist)",
      "Bash(findstr:*)",
      "Bash(curl -X POST http://localhost:3000/api/youtube/sync -H \"Content-Type: application/json\" -d \"{\"\"channelId\"\":\"\"test\"\"}\")",
      "Bash(echo $YOUTUBE_API_KEY)",
      "Bash(cat:*)",
      "Bash(curl -s \"https://www.googleapis.com/youtube/v3/channels?part=contentDetails,snippet&id=UC_x5XG1OV2P6uZZ5FSM9Ttw&key=AIzaSyCZAEAULRodHckBRsC_7PCqmXkJ2XGq8uA\")",
      "Bash(if exist apply-registered-by-migration.js del /f apply-registered-by-migration.js)",
      "Bash(del apply-registered-by-migration.js)",
      "Bash(curl http://localhost:3000/api/cloudinary/folders)",
      "Bash(if exist apply-representative-migration.js del /f apply-representative-migration.js)",
      "Bash(del apply-representative-migration.js)",
      "Bash(timeout 10 curl http://localhost:3002/api/test-category-data)",
      "Bash(if not exist \"c:\\Users\\USER\\Desktop\\projects\\dalreamarket.com\\src\\app\\api\\run-migration\" mkdir \"c:\\Users\\USER\\Desktop\\projects\\dalreamarket.com\\src\\app\\api\\run-migration\")",
      "Bash(curl -X POST http://localhost:3002/api/run-migration)",
      "Bash(if exist check-category-data.js del /f check-category-data.js)",
      "Bash(if exist apply-category-migration.js del /f apply-category-migration.js)",
      "Bash(curl -s http://localhost:3002/api/test-category-data)",
      "Bash(curl -s \"http://localhost:3002/admin/products/category-settings\")",
      "Bash(curl -s http://localhost:3002/api/check-categories)",
      "Bash(curl -s http://localhost:3003/api/check-option-products)",
      "Bash(curl -s http://localhost:3003/api/check-raw-materials)",
      "Bash(curl -s http://localhost:3003/api/check-categories)",
      "Bash(curl -s http://localhost:3001/api/check-categories)",
      "Bash(netstat -ano)",
      "Bash(curl -s http://localhost:3000/api/check-cloudinary-data)",
      "Bash(timeout 15 curl -s http://localhost:3000/api/check-images)",
      "Bash(curl -s http://localhost:3000/api/check-images)",
      "Bash(timeout 3 sleep 1)",
      "Bash(timeout 15 bash -c 'while ! curl -s http://localhost:3000 > /dev/null; do sleep 1; done; echo \"\"Server ready\"\"')",
      "Bash(curl -s \"http://localhost:3000/platform/products/all\")",
      "Bash(del nul)",
      "Bash(timeout 20 bash -c 'while true; do curl -s http://localhost:3000 > /dev/null 2>&1 && echo \"\"Server ready\"\" && break; sleep 1; done')",
      "Bash(curl -s \"https://qxhpgjftkkcxdttgjkzj.supabase.co/rest/v1/cloudinary_images?is_representative=eq.true&select=id,option_product_id,category_4_id,secure_url&limit=5\" -H \"apikey: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4aHBnamZ0a2tjeGR0dGdqa3pqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3MDQxNDAsImV4cCI6MjA1ODI4MDE0MH0.wXUEJ4KY3Gg-fHb6lCvwKrGOvWrGJlC2hvStD0uDBrs\" -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4aHBnamZ0a2tjeGR0dGdqa3pqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3MDQxNDAsImV4cCI6MjA1ODI4MDE0MH0.wXUEJ4KY3Gg-fHb6lCvwKrGOvWrGJlC2hvStD0uDBrs\")",
      "Bash(timeout 10 bash -c 'while ! curl -s http://localhost:3000 > /dev/null 2>&1; do sleep 1; done; echo \"\"Server ready\"\"')",
      "Bash(curl -s \"https://qxhpgjftkkcxdttgjkzj.supabase.co/rest/v1/cloudinary_images?is_representative=eq.true&select=id,option_product_id,category_4_id,raw_material_id,secure_url&limit=10\" -H \"apikey: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4aHBnamZ0a2tjeGR0dGdqa3pqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3MDQxNDAsImV4cCI6MjA1ODI4MDE0MH0.wXUEJ4KY3Gg-fHb6lCvwKrGOvWrGJlC2hvStD0uDBrs\" -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4aHBnamZ0a2tjeGR0dGdqa3pqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3MDQxNDAsImV4cCI6MjA1ODI4MDE0MH0.wXUEJ4KY3Gg-fHb6lCvwKrGOvWrGJlC2hvStD0uDBrs\")",
      "Bash(timeout 10 bash -c 'while ! curl -s http://localhost:3001/api/check-representative-images > /dev/null 2>&1; do sleep 1; done; curl -s http://localhost:3001/api/check-representative-images')",
      "Bash(timeout 5 bash -c 'sleep 2 && curl -s http://localhost:3001/api/check-representative-images')",
      "Bash(timeout 5 bash -c 'sleep 2 && curl -X POST http://localhost:3001/api/fix-representative-images')",
      "Bash(curl -s http://localhost:3001/api/check-representative-images)",
      "Bash(curl -X POST http://localhost:3001/api/fix-representative-images)",
      "Bash(curl -s \"https://qxhpgjftkkcxdttgjkzj.supabase.co/rest/v1/cloudinary_images?select=id,category_4_id,option_product_id&limit=1\" -H \"apikey: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4aHBnamZ0a2tjeGR0dGdqa3pqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3MDQxNDAsImV4cCI6MjA1ODI4MDE0MH0.wXUEJ4KY3Gg-fHb6lCvwKrGOvWrGJlC2hvStD0uDBrs\")",
      "Bash(del apply-category-fields-migration.js)",
      "Bash(if exist apply-category-fields-migration.js del /f apply-category-fields-migration.js)",
      "Bash(if exist migrate-to-products-master.js del /f migrate-to-products-master.js)",
      "Bash(curl -s \"https://qxhpgjftkkcxdttgjkzj.supabase.co/rest/v1/courier_settings?select=id,courier_name&order=courier_name.asc\" -H \"apikey: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4aHBnamZ0a2tjeGR0dGdqa3pqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3MDQxNDAsImV4cCI6MjA1ODI4MDE0MH0.wXUEJ4KY3Gg-fHb6lCvwKrGOvWrGJlC2hvStD0uDBrs\")",
      "Bash(timeout 5 bash -c 'sleep 3')",
      "Bash(npm uninstall react-window @types/react-window)"
    ],
    "deny": [],
    "ask": []
  },
  "mcpServers": {
    "postgres": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-postgres",
        "postgresql://postgres.ketdnqhxwqcgyltinjih:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtldGRucWh4d3FjZ3lsdGluamloIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTIyMzA0NywiZXhwIjoyMDc0Nzk5MDQ3fQ.JG09yOpBvu_Y_-9QNmWGY7GVwUVmTMKD4Sc6FGFhxX4@aws-0-ap-northeast-2.pooler.supabase.com:6543/postgres"
      ]
    },
    "fetch": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-fetch"
      ]
    }
  }
}
