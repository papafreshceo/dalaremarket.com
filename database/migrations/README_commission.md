# 수수료 자동 계산 기능

## 개요
사입관리 페이지에서 거래처별 수수료율을 기반으로 수수료가 자동 계산됩니다.

## 데이터베이스 변경사항

### 1. suppliers 테이블
- `commission_rate` 필드 추가 (DECIMAL(10,2), 기본값: 0)
- 단위: 원/kg

### 2. 마이그레이션 실행
```sql
-- add_commission_rate_to_suppliers.sql 실행
ALTER TABLE suppliers
ADD COLUMN IF NOT EXISTS commission_rate DECIMAL(10,2) DEFAULT 0;
```

## 사용 방법

### 1. 거래처 수수료율 설정
- 거래처 관리 페이지에서 각 거래처의 수수료율 설정
- 예: 거래처 A의 수수료율 = 100원/kg

### 2. 사입 데이터 입력
1. 거래처 선택
2. 수량 입력
3. 단가 입력

### 3. 자동 계산 로직
- **금액** = 수량 × 단가
- **수수료** = 수량 × 거래처 수수료율 (자동 계산, 읽기 전용)
- **합계** = 금액 + 수수료 (자동 계산, 읽기 전용)

## 변경 시나리오

### 시나리오 1: 거래처 변경
- 거래처를 변경하면 해당 거래처의 수수료율이 자동 적용
- 기존 수량 기준으로 수수료 재계산

### 시나리오 2: 수량 변경
- 수량을 변경하면 금액과 수수료가 모두 재계산
- 거래처 수수료율은 유지

### 시나리오 3: 단가 변경
- 단가를 변경하면 금액만 재계산
- 수수료는 수량 기준이므로 변경 없음

## UI 변경사항

### 읽기 전용 필드
- 금액: 배경색 회색 (자동 계산)
- 수수료: 배경색 회색 (자동 계산, 거래처별 수수료율 기반)
- 합계: 배경색 회색, 굵은 글씨 (자동 계산)

### 셀 복사
- 복사한 셀: 초록색 점선 테두리
- ESC 키: 선택 해제

## 주의사항
- 수수료 필드는 읽기 전용이므로 직접 수정 불가
- 수수료율을 변경하려면 거래처 관리 페이지에서 수정 필요
- 기존 데이터는 수수료율이 0으로 설정되어 있으므로 거래처별로 수수료율 설정 필요
